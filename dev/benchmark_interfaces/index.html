<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Understanding Benchmark Interfaces · DecisionFocusedLearningBenchmarks.jl</title><meta name="title" content="Understanding Benchmark Interfaces · DecisionFocusedLearningBenchmarks.jl"/><meta property="og:title" content="Understanding Benchmark Interfaces · DecisionFocusedLearningBenchmarks.jl"/><meta property="twitter:title" content="Understanding Benchmark Interfaces · DecisionFocusedLearningBenchmarks.jl"/><meta name="description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="og:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="twitter:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DecisionFocusedLearningBenchmarks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Home</span><ul><li><a class="tocitem" href="../">Getting started</a></li><li class="is-active"><a class="tocitem" href>Understanding Benchmark Interfaces</a><ul class="internal"><li><a class="tocitem" href="#Core-Concepts"><span>Core Concepts</span></a></li><li><a class="tocitem" href="#Common-Interface-Methods"><span>Common Interface Methods</span></a></li><li><a class="tocitem" href="#Benchmark-Specific-Interfaces"><span>Benchmark-Specific Interfaces</span></a></li></ul></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../warcraft_tutorial/">Path-finding on image maps</a></li></ul></li><li><span class="tocitem">Benchmark problems list</span><ul><li><a class="tocitem" href="../benchmarks/argmax/">Argmax</a></li><li><a class="tocitem" href="../benchmarks/dvsp/">Dynamic Vehicle Scheduling</a></li><li><a class="tocitem" href="../benchmarks/dynamic_assortment/">Dynamic Assortment</a></li><li><a class="tocitem" href="../benchmarks/fixed_size_shortest_path/">Shortest paths</a></li><li><a class="tocitem" href="../benchmarks/portfolio_optimization/">Portfolio Optimization</a></li><li><a class="tocitem" href="../benchmarks/ranking/">Ranking</a></li><li><a class="tocitem" href="../benchmarks/subset_selection/">Subset Selection</a></li><li><a class="tocitem" href="../benchmarks/vsp/">Stochastic Vehicle Scheduling</a></li><li><a class="tocitem" href="../benchmarks/warcraft/">Warcraft</a></li></ul></li><li><a class="tocitem" href="../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Home</a></li><li class="is-active"><a href>Understanding Benchmark Interfaces</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Understanding Benchmark Interfaces</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/main/docs/src/benchmark_interfaces.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Understanding-Benchmark-Interface"><a class="docs-heading-anchor" href="#Understanding-Benchmark-Interface">Understanding Benchmark Interface</a><a id="Understanding-Benchmark-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-Benchmark-Interface" title="Permalink"></a></h1><p>This guide explains how benchmarks work through common interfaces in DecisionFocusedLearningBenchmarks.jl. Understanding this interface is essential for using existing benchmarks and implementing new ones.</p><h2 id="Core-Concepts"><a class="docs-heading-anchor" href="#Core-Concepts">Core Concepts</a><a id="Core-Concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Concepts" title="Permalink"></a></h2><h3 id="DataSample-Structure"><a class="docs-heading-anchor" href="#DataSample-Structure">DataSample Structure</a><a id="DataSample-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#DataSample-Structure" title="Permalink"></a></h3><p>All benchmarks work with <a href="../api/#DecisionFocusedLearningBenchmarks.Utils.DataSample"><code>DataSample</code></a> objects that encapsulate the data needed for decision-focused learning:</p><pre><code class="language-julia hljs">@kwdef struct DataSample{I,F,S,C}
    x::F = nothing           # Input features  
    θ_true::C = nothing      # True cost/utility parameters
    y_true::S = nothing      # True optimal solution
    instance::I = nothing    # Problem instance object/additional data
end</code></pre><p>The <code>DataSample</code> provides flexibility - not all fields need to be populated depending on the benchmark type and use case.</p><h3 id="Benchmark-Type-Hierarchy"><a class="docs-heading-anchor" href="#Benchmark-Type-Hierarchy">Benchmark Type Hierarchy</a><a id="Benchmark-Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Type-Hierarchy" title="Permalink"></a></h3><p>The package defines a hierarchy of three abstract types:</p><pre><code class="nohighlight hljs">AbstractBenchmark
├── AbstractStochasticBenchmark{exogenous}
    └── AbstractDynamicBenchmark{exogenous}</code></pre><ul><li><strong><code>AbstractBenchmark</code></strong>: static, single-stage optimization problems</li><li><strong><code>AbstractStochasticBenchmark{exogenous}</code></strong>: stochastic, single stage optimization problems</li></ul><p><strong><code>AbstractDynamicBenchmark{exogenous}</code></strong>: multi-stage sequential decision problems</p><p>The <code>{exogenous}</code> type parameter indicates whether uncertainty distribution comes from external sources (<code>true</code>) or is influenced by decisions (<code>false</code>), which affects available methods.</p><h2 id="Common-Interface-Methods"><a class="docs-heading-anchor" href="#Common-Interface-Methods">Common Interface Methods</a><a id="Common-Interface-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Common-Interface-Methods" title="Permalink"></a></h2><h3 id="Data-Generation"><a class="docs-heading-anchor" href="#Data-Generation">Data Generation</a><a id="Data-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Generation" title="Permalink"></a></h3><p>Every benchmark must implement a data generation method:</p><pre><code class="language-julia hljs"># Generate a single sample
generate_sample(benchmark::AbstractBenchmark, rng::AbstractRNG; kwargs...) -&gt; DataSample</code></pre><p>This method should generate a single <code>DataSample</code> given a random number generator and optional parameters.</p><p>If needed, benchmarks can instead override the <a href="../api/#DecisionFocusedLearningBenchmarks.Utils.generate_dataset-Tuple{AbstractBenchmark, Int64}"><code>generate_dataset</code></a> method to directly create the entire dataset:</p><pre><code class="language-julia hljs">generate_dataset(benchmark::AbstractBenchmark, size::Int; kwargs...) -&gt; Vector{DataSample}</code></pre><p>The default <code>generate_dataset</code> implementation calls <code>generate_sample</code> repeatedly, but benchmarks can override this for custom dataset generation logic.</p><h3 id="DFL-Policy-Components"><a class="docs-heading-anchor" href="#DFL-Policy-Components">DFL Policy Components</a><a id="DFL-Policy-Components-1"></a><a class="docs-heading-anchor-permalink" href="#DFL-Policy-Components" title="Permalink"></a></h3><p>Benchmarks provide the building blocks for decision-focused learning policies:</p><pre><code class="language-julia hljs"># Create a statistical model (e.g., a neural network)
generate_statistical_model(benchmark::AbstractBenchmark; kwargs...)

# Create an optimization maximizer/solver
generate_maximizer(benchmark::AbstractBenchmark; kwargs...)</code></pre><p>The statistical model typically maps from features <code>x</code> to cost parameters <code>θ</code>. The maximizer solves optimization problems given cost parameters <code>θ</code> (and potentially additional problem dependent keyword arguments), returning decision <code>y</code>.</p><h3 id="Benchmark-Policies"><a class="docs-heading-anchor" href="#Benchmark-Policies">Benchmark Policies</a><a id="Benchmark-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Policies" title="Permalink"></a></h3><p>Benchmarks can provide baseline policies for comparison and evaluation:</p><pre><code class="language-julia hljs"># Get baseline policies for comparison
generate_policies(benchmark::AbstractBenchmark) -&gt; Tuple{Policy}</code></pre><p>This returns a tuple of <code>Policy</code> objects representing different benchmark-specific policies:</p><pre><code class="language-julia hljs">struct Policy{F}
    name::String
    description::String  
    policy_function::F
end</code></pre><p>A <code>Policy</code> is just a function with a name and description.</p><p>Policies can be evaluated across multiple instances/environments using:</p><pre><code class="language-julia hljs">evaluate_policy!(policy::Policy, instances; kwargs...) -&gt; (rewards, data_samples)</code></pre><h3 id="Evaluation-Methods"><a class="docs-heading-anchor" href="#Evaluation-Methods">Evaluation Methods</a><a id="Evaluation-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation-Methods" title="Permalink"></a></h3><p>Optional methods for analysis and visualization:</p><pre><code class="language-julia hljs"># Visualize data samples
plot_data(benchmark::AbstractBenchmark, sample::DataSample; kwargs...)
plot_instance(benchmark::AbstractBenchmark, instance; kwargs...)  
plot_solution(benchmark::AbstractBenchmark, sample::DataSample, solution; kwargs...)

# Compute optimality gap
compute_gap(benchmark::AbstractBenchmark, dataset, model, maximizer) -&gt; Float64

# Evaluate objective value
objective_value(benchmark::AbstractBenchmark, sample::DataSample, solution)</code></pre><h2 id="Benchmark-Specific-Interfaces"><a class="docs-heading-anchor" href="#Benchmark-Specific-Interfaces">Benchmark-Specific Interfaces</a><a id="Benchmark-Specific-Interfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Specific-Interfaces" title="Permalink"></a></h2><h3 id="Static-Benchmarks"><a class="docs-heading-anchor" href="#Static-Benchmarks">Static Benchmarks</a><a id="Static-Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Static-Benchmarks" title="Permalink"></a></h3><p>Static benchmarks follow the basic interface above.</p><h3 id="Stochastic-Benchmarks"><a class="docs-heading-anchor" href="#Stochastic-Benchmarks">Stochastic Benchmarks</a><a id="Stochastic-Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Stochastic-Benchmarks" title="Permalink"></a></h3><p>Exogenous stochastic benchmarks add methods for scenario generation and anticipative solutions:</p><pre><code class="language-julia hljs"># Generate uncertainty scenarios (for exogenous benchmarks)
generate_scenario(benchmark::AbstractStochasticBenchmark{true}, instance; kwargs...)

# Solve anticipative optimization problem for given scenario
generate_anticipative_solution(benchmark::AbstractStochasticBenchmark{true}, 
                               instance, scenario; kwargs...)</code></pre><h3 id="Dynamic-Benchmarks"><a class="docs-heading-anchor" href="#Dynamic-Benchmarks">Dynamic Benchmarks</a><a id="Dynamic-Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamic-Benchmarks" title="Permalink"></a></h3><p>In order to model sequential decision-making, dynamic benchmarks additionally work with environments. For this, they implement methods to create environments from instances or datasets:</p><pre><code class="language-julia hljs"># Create environment for sequential decision-making
generate_environment(benchmark::AbstractDynamicBenchmark, instance, rng; kwargs...) -&gt; &lt;:AbstractEnvironment

# Generate multiple environments
generate_environments(benchmark::AbstractDynamicBenchmark, dataset; kwargs...) -&gt; Vector{&lt;:AbstractEnvironment}</code></pre><p>Similarly to <code>generate_dataset</code> and <code>generate_sample</code>, one only needs to implement <code>generate_environment</code>, as <code>generate_environments</code> has a default implementation that calls it repeatedly.</p><p>The <a href="../api/#DecisionFocusedLearningBenchmarks.Utils.AbstractEnvironment"><code>AbstractEnvironment</code></a> interface is defined as follows:</p><pre><code class="language-julia hljs"># Environment methods
get_seed(env::AbstractEnvironment)  # Get current RNG seed
reset!(env::AbstractEnvironment; reset_rng::Bool, seed=get_seed(env))  # Reset to initial state
observe(env::AbstractEnvironment) -&gt; (obs, info)    # Get current observation  
step!(env::AbstractEnvironment, action) -&gt; reward   # Take action, get reward
is_terminated(env::AbstractEnvironment) -&gt; Bool     # Check if episode ended</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Getting started</a><a class="docs-footer-nextpage" href="../warcraft_tutorial/">Path-finding on image maps »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 2 September 2025 11:53">Tuesday 2 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
