<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Dynamic Vehicle Scheduling · DecisionFocusedLearningBenchmarks.jl</title><meta name="title" content="Dynamic Vehicle Scheduling · DecisionFocusedLearningBenchmarks.jl"/><meta property="og:title" content="Dynamic Vehicle Scheduling · DecisionFocusedLearningBenchmarks.jl"/><meta property="twitter:title" content="Dynamic Vehicle Scheduling · DecisionFocusedLearningBenchmarks.jl"/><meta name="description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="og:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="twitter:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DecisionFocusedLearningBenchmarks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Home</span><ul><li><a class="tocitem" href="../../">Getting started</a></li><li><a class="tocitem" href="../../benchmark_interfaces/">Understanding Benchmark Interfaces</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../warcraft_tutorial/">Path-finding on image maps</a></li></ul></li><li><span class="tocitem">Benchmark problems list</span><ul><li><a class="tocitem" href="../argmax/">Argmax</a></li><li class="is-active"><a class="tocitem" href>Dynamic Vehicle Scheduling</a><ul class="internal"><li><a class="tocitem" href="#Problem-Description"><span>Problem Description</span></a></li><li><a class="tocitem" href="#Key-Components"><span>Key Components</span></a></li><li><a class="tocitem" href="#Benchmark-Policies"><span>Benchmark Policies</span></a></li><li><a class="tocitem" href="#Decision-Focused-Learning-Policy"><span>Decision-Focused Learning Policy</span></a></li></ul></li><li><a class="tocitem" href="../dynamic_assortment/">Dynamic Assortment</a></li><li><a class="tocitem" href="../fixed_size_shortest_path/">Shortest paths</a></li><li><a class="tocitem" href="../portfolio_optimization/">Portfolio Optimization</a></li><li><a class="tocitem" href="../ranking/">Ranking</a></li><li><a class="tocitem" href="../subset_selection/">Subset Selection</a></li><li><a class="tocitem" href="../vsp/">Stochastic Vehicle Scheduling</a></li><li><a class="tocitem" href="../warcraft/">Warcraft</a></li></ul></li><li><a class="tocitem" href="../../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Benchmark problems list</a></li><li class="is-active"><a href>Dynamic Vehicle Scheduling</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Dynamic Vehicle Scheduling</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/main/docs/src/benchmarks/dvsp.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Dynamic-Vehicle-Scheduling"><a class="docs-heading-anchor" href="#Dynamic-Vehicle-Scheduling">Dynamic Vehicle Scheduling</a><a id="Dynamic-Vehicle-Scheduling-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamic-Vehicle-Scheduling" title="Permalink"></a></h1><p>The Dynamic Vehicle Scheduling Problem (DVSP) is a sequential decision-making problem where an agent must dynamically dispatch vehicles to serve customers that arrive over time.</p><h2 id="Problem-Description"><a class="docs-heading-anchor" href="#Problem-Description">Problem Description</a><a id="Problem-Description-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-Description" title="Permalink"></a></h2><h3 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h3><p>In the dynamic vehicle scheduling problem, a fleet operator must decide at each time step which customer requests to serve immediately and which to postpone to future time steps. The goal is to serve all customers by the end of the planning horizon while minimizing total travel time.</p><p>This is a simplified version of the more complex Dynamic Vehicle Routing Problem with Time Windows (DVRPTW), focusing on the core sequential decision-making aspects without capacity or time window constraints.</p><p>The problem is characterized by:</p><ul><li><strong>Exogenous noise</strong>: customer arrivals are stochastic and follow a fixed known distribution, independent of the agent&#39;s actions</li><li><strong>Combinatorial action space</strong>: at each time step, the agent must build vehicle routes to serve selected customers, which leads to a huge combinatorial action space</li></ul><h3 id="Mathematical-Formulation"><a class="docs-heading-anchor" href="#Mathematical-Formulation">Mathematical Formulation</a><a id="Mathematical-Formulation-1"></a><a class="docs-heading-anchor-permalink" href="#Mathematical-Formulation" title="Permalink"></a></h3><p>The dynamic vehicle scheduling problem can be formulated as a finite-horizon Markov Decision Process (MDP):</p><p><strong>State Space</strong> <span>$\mathcal{S}$</span>: At time step <span>$t$</span>, the state <span>$s_t$</span> consists of:</p><p class="math-container">\[s_t = (R_t, D_t, t)\]</p><p>where:</p><ul><li><span>$R_t$</span> are the pending customer requests (not yet served), where each request <span>$r_i \in R_t$</span> contains:<ul><li><span>$x_i, y_i$</span>: 2d spatial coordinates of the customer location</li><li><span>$\tau_i$</span>: start time when the customer needs to be served</li><li><span>$s_i$</span>: service time required to serve the customer</li></ul></li><li><span>$D_t$</span> indicates which requests must be dispatched this time step (i.e. that cannot be postponed further, otherwise they will be infeasible at the next time step because of their start time)</li><li><span>$t \in \{1, 2, \ldots, T\}$</span> is the current time step</li></ul><p>The state also implicitly includes (constant over time):</p><ul><li>Travel duration matrix <span>$d_{ij}$</span>: time to travel from location <span>$i$</span> to location <span>$j$</span></li><li>Depot location</li></ul><p><strong>Action Space</strong> <span>$\mathcal{A}$</span>: The action at time step <span>$t$</span> is a set of vehicle routes:</p><p class="math-container">\[a_t = \{r_1, r_2, \ldots, r_k\}\]</p><p>where each route <span>$r_i$</span> is a sequence of customer that starts and ends at the depot.</p><p>A route is feasible if:</p><ul><li>It starts and ends at the depot</li><li>It follows time constraints, i.e. customers are served on time</li></ul><p><strong>Transition Dynamics</strong> <span>$\mathcal{P}(s_{t+1} | s_t, a_t)$</span>: After executing routes <span>$a_t$</span>:</p><ol><li><strong>Remove served customers</strong> from the pending request set</li><li><strong>Generate new customer arrivals</strong> according to the underlying exogenous distribution</li><li><strong>Update must-dispatch set</strong> based on postponement rules</li></ol><p><strong>Reward Function</strong> <span>$r(s_t, a_t)$</span>: The immediate reward is the negative total travel time of the routes:</p><p class="math-container">\[r(s_t, a_t) = - \sum_{r \in a_t} \sum_{(i,j) \in r} d_{ij}\]</p><p>where <span>$d_{ij}$</span> is the travel duration from location <span>$i$</span> to location <span>$j$</span>, and the sum is over all consecutive location pairs in each route <span>$r$</span>.</p><p><strong>Objective</strong>: Find a policy <span>$\pi: \mathcal{S} \to \mathcal{A}$</span> that maximizes expected cumulative reward:</p><p class="math-container">\[\max_\pi \mathbb{E}\left[\sum_{t=1}^T r(s_t, \pi(s_t)) \right]\]</p><h2 id="Key-Components"><a class="docs-heading-anchor" href="#Key-Components">Key Components</a><a id="Key-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Components" title="Permalink"></a></h2><h3 id="[DynamicVehicleSchedulingBenchmark](@ref)"><a class="docs-heading-anchor" href="#[DynamicVehicleSchedulingBenchmark](@ref)"><a href="../../api/#DecisionFocusedLearningBenchmarks.DynamicVehicleScheduling.DynamicVehicleSchedulingBenchmark"><code>DynamicVehicleSchedulingBenchmark</code></a></a><a id="[DynamicVehicleSchedulingBenchmark](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[DynamicVehicleSchedulingBenchmark](@ref)" title="Permalink"></a></h3><p>The main benchmark configuration with the following parameters:</p><ul><li><code>max_requests_per_epoch</code>: Maximum number of new customer requests per time step (default: 10)</li><li><code>Δ_dispatch</code>: Time delay between decision and vehicle dispatch (default: 1.0)</li><li><code>epoch_duration</code>: Duration of each decision time step (default: 1.0)</li><li><code>two_dimensional_features</code>: Whether to use simplified 2D features instead of full feature set (default: false)</li></ul><h3 id="Instance-Generation"><a class="docs-heading-anchor" href="#Instance-Generation">Instance Generation</a><a id="Instance-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Instance-Generation" title="Permalink"></a></h3><p>Problem instances are generated from static vehicle routing datasets and include:</p><ul><li><strong>Customer locations</strong>: Spatial coordinates for pickup/delivery points</li><li><strong>Depot location</strong>: Central starting and ending point for all routes</li><li><strong>Travel times</strong>: Distance/duration matrix between all location pairs</li><li><strong>Service requirements</strong>: Time needed to serve each customer</li></ul><p>The dynamic version samples new customer arrivals from the static instance, drawing new customers by independently sampling their locations and service times.</p><h3 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h3><p>The benchmark provides two feature representations:</p><p><strong>Full Features</strong> (14-dimensional):</p><ul><li>Start times for postponable requests</li><li>End times (start + service time)</li><li>Travel time from depot to request</li><li>Travel time from request to depot  </li><li>Slack time until next time step</li><li>Quantile-based travel times to other requests (9 quantiles)</li></ul><p><strong>2D Features</strong> (simplified):</p><ul><li>Travel time from depot to request</li><li>Mean travel time to other requests</li></ul><h2 id="Benchmark-Policies"><a class="docs-heading-anchor" href="#Benchmark-Policies">Benchmark Policies</a><a id="Benchmark-Policies-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Policies" title="Permalink"></a></h2><h3 id="Lazy-Policy"><a class="docs-heading-anchor" href="#Lazy-Policy">Lazy Policy</a><a id="Lazy-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Lazy-Policy" title="Permalink"></a></h3><p>The lazy policy postpones all possible requests, serving only those that must be dispatched.</p><h3 id="Greedy-Policy"><a class="docs-heading-anchor" href="#Greedy-Policy">Greedy Policy</a><a id="Greedy-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Greedy-Policy" title="Permalink"></a></h3><p>The greedy policy serves all pending requests as soon as they arrive, without considering future consequences. </p><h2 id="Decision-Focused-Learning-Policy"><a class="docs-heading-anchor" href="#Decision-Focused-Learning-Policy">Decision-Focused Learning Policy</a><a id="Decision-Focused-Learning-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#Decision-Focused-Learning-Policy" title="Permalink"></a></h2><p class="math-container">\[\xrightarrow[\text{State}]{s_t}
\fbox{Neural network $\varphi_w$}
\xrightarrow[\text{Priorities}]{\theta}
\fbox{Prize-collecting VSP}
\xrightarrow[\text{Routes}]{a_t}\]</p><p><strong>Components</strong>:</p><ol><li><strong>Neural Network</strong> <span>$\varphi_w$</span>: Takes current state features as input and predicts customer priorities <span>$\theta = (\theta_1, \ldots, \theta_n)$</span></li><li><strong>Optimization Layer</strong>: Solves the prize-collecting vehicle scheduling problem to determine optimal routes given the predicted priorities</li></ol><p>The neural network architecture adapts to the feature dimensionality:</p><ul><li><strong>2D features</strong>: <code>Dense(2 =&gt; 1)</code> followed by vectorization</li><li><strong>Full features</strong>: <code>Dense(14 =&gt; 1)</code> followed by vectorization</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../argmax/">« Argmax</a><a class="docs-footer-nextpage" href="../dynamic_assortment/">Dynamic Assortment »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 30 September 2025 11:00">Tuesday 30 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
