<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Warcraft · DecisionFocusedLearningBenchmarks.jl</title><meta name="title" content="Warcraft · DecisionFocusedLearningBenchmarks.jl"/><meta property="og:title" content="Warcraft · DecisionFocusedLearningBenchmarks.jl"/><meta property="twitter:title" content="Warcraft · DecisionFocusedLearningBenchmarks.jl"/><meta name="description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="og:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><meta property="twitter:description" content="Documentation for DecisionFocusedLearningBenchmarks.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DecisionFocusedLearningBenchmarks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../warcraft/">Path-finding on image maps</a></li></ul></li><li><span class="tocitem">Benchmark problems list</span><ul><li><a class="tocitem" href="../../benchmarks/subset_selection/">Subset Selection</a></li><li><a class="tocitem" href="../../benchmarks/fixed_size_shortest_path/">Shortest paths</a></li><li><a class="tocitem" href="../../benchmarks/warcraft/">Warcraft</a></li><li><a class="tocitem" href="../../benchmarks/portfolio_optimization/">Portfolio Optimization</a></li><li><a class="tocitem" href="../../benchmarks/vsp/">Stochastic Vehicle Scheduling</a></li></ul></li><li><span class="tocitem">API reference</span><ul><li><a class="tocitem" href="../0_interface/">Interface</a></li><li><a class="tocitem" href="../argmax/">Argmax</a></li><li><a class="tocitem" href="../fixed_shortest_path/">Fixed-size shortest path</a></li><li><a class="tocitem" href="../portfolio_optimization/">Subset selection</a></li><li><a class="tocitem" href="../ranking/">Ranking</a></li><li><a class="tocitem" href="../subset_selection/">Subset selection</a></li><li><a class="tocitem" href="../vsp/">Stochastic Vehicle Scheduling</a></li><li class="is-active"><a class="tocitem" href>Warcraft</a><ul class="internal"><li><a class="tocitem" href="#Public"><span>Public</span></a></li><li><a class="tocitem" href="#Private"><span>Private</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API reference</a></li><li class="is-active"><a href>Warcraft</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Warcraft</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/main/docs/src/api/warcraft.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Warcraft"><a class="docs-heading-anchor" href="#Warcraft">Warcraft</a><a id="Warcraft-1"></a><a class="docs-heading-anchor-permalink" href="#Warcraft" title="Permalink"></a></h1><h2 id="Public"><a class="docs-heading-anchor" href="#Public">Public</a><a id="Public-1"></a><a class="docs-heading-anchor-permalink" href="#Public" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.WarcraftBenchmark" href="#DecisionFocusedLearningBenchmarks.Warcraft.WarcraftBenchmark"><code>DecisionFocusedLearningBenchmarks.Warcraft.WarcraftBenchmark</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct WarcraftBenchmark &lt;: AbstractBenchmark</code></pre><p>Benchmark for the Warcraft shortest path problem. Does not have any field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/Warcraft.jl#L20">source</a></section></article><h2 id="Private"><a class="docs-heading-anchor" href="#Private">Private</a><a id="Private-1"></a><a class="docs-heading-anchor-permalink" href="#Private" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Utils.generate_dataset" href="#DecisionFocusedLearningBenchmarks.Utils.generate_dataset"><code>DecisionFocusedLearningBenchmarks.Utils.generate_dataset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_dataset(::WarcraftBenchmark) -&gt; Vector
generate_dataset(
    ::WarcraftBenchmark,
    dataset_size::Int64
) -&gt; Vector
</code></pre><p>Downloads and decompresses the Warcraft dataset the first time it is called.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><code>dataset_size</code> is capped at 10000, i.e. the number of available samples in the dataset files.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/Warcraft.jl#L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Utils.generate_maximizer-Tuple{WarcraftBenchmark}" href="#DecisionFocusedLearningBenchmarks.Utils.generate_maximizer-Tuple{WarcraftBenchmark}"><code>DecisionFocusedLearningBenchmarks.Utils.generate_maximizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_maximizer(
    ::WarcraftBenchmark;
    dijkstra
) -&gt; typeof(DecisionFocusedLearningBenchmarks.Warcraft.dijkstra_maximizer)
</code></pre><p>Returns an optimization algorithm that computes a longest path on the grid graph with given weights. Uses a shortest path algorithm on opposite weights to get the longest path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/Warcraft.jl#L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Utils.generate_statistical_model-Tuple{WarcraftBenchmark}" href="#DecisionFocusedLearningBenchmarks.Utils.generate_statistical_model-Tuple{WarcraftBenchmark}"><code>DecisionFocusedLearningBenchmarks.Utils.generate_statistical_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_statistical_model(
    ::WarcraftBenchmark;
    seed
) -&gt; Flux.Chain{T} where T&lt;:Tuple{Any, Any, Any, Any, Flux.AdaptiveMaxPool{4, 2}, typeof(DecisionFocusedLearningBenchmarks.Utils.average_tensor), typeof(DecisionFocusedLearningBenchmarks.Utils.neg_tensor), typeof(DecisionFocusedLearningBenchmarks.Utils.squeeze_last_dims)}
</code></pre><p>Create and return a <code>Flux.Chain</code> embedding for the Warcraft terrains, inspired by <a href="https://github.com/martius-lab/blackbox-differentiation-combinatorial-solvers/blob/master/models.py">differentiation of blackbox combinatorial solvers</a>.</p><p>The embedding is made as follows:</p><ol><li>The first 5 layers of ResNet18 (convolution, batch normalization, relu, maxpooling and first resnet block).</li><li>An adaptive maxpooling layer to get a (12x12x64) tensor per input image.</li><li>An average over the third axis (of size 64) to get a (12x12x1) tensor per input image.</li><li>The element-wize <code>neg_tensor</code> function to get cell weights of proper sign to apply shortest path algorithms.</li><li>A squeeze function to forget the two last dimensions.</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/Warcraft.jl#L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Utils.plot_data-Tuple{WarcraftBenchmark, DataSample}" href="#DecisionFocusedLearningBenchmarks.Utils.plot_data-Tuple{WarcraftBenchmark, DataSample}"><code>DecisionFocusedLearningBenchmarks.Utils.plot_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_data(
    ::WarcraftBenchmark,
    sample::DataSample;
    θ_true,
    θ_title,
    y_title,
    kwargs...
) -&gt; Any
</code></pre><p>Plot the content of input <code>DataSample</code> as images. <code>x</code> as the initial image, <code>θ</code> as the weights, and <code>y</code> as the path.</p><p>The keyword argument <code>θ_true</code> is used to set the color range of the weights plot.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/Warcraft.jl#L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.bellman_maximizer-Tuple{AbstractMatrix}" href="#DecisionFocusedLearningBenchmarks.Warcraft.bellman_maximizer-Tuple{AbstractMatrix}"><code>DecisionFocusedLearningBenchmarks.Warcraft.bellman_maximizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bellman_maximizer(
    θ::AbstractMatrix;
    kwargs...
) -&gt; Matrix{Int64}
</code></pre><p>Computes the longest path in given grid graph weights by computing the shortest path in the graph with opposite weights. Using the Ford-Bellman dynamic programming algorithm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.convert_image_for_plot-Tuple{Array{Float32, 3}}" href="#DecisionFocusedLearningBenchmarks.Warcraft.convert_image_for_plot-Tuple{Array{Float32, 3}}"><code>DecisionFocusedLearningBenchmarks.Warcraft.convert_image_for_plot</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_image_for_plot(
    image::Array{Float32, 3}
) -&gt; Matrix{ColorTypes.RGB{FixedPointNumbers.N0f8}}
</code></pre><p>Convert <code>image</code> to the proper data format to enable plots in Julia.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.create_dataset-Tuple{String, Int64}" href="#DecisionFocusedLearningBenchmarks.Warcraft.create_dataset-Tuple{String, Int64}"><code>DecisionFocusedLearningBenchmarks.Warcraft.create_dataset</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_dataset(
    decompressed_path::String,
    nb_samples::Int64
) -&gt; Vector
</code></pre><p>Create the dataset corresponding to the data located at <code>decompressed_path</code>, possibly sub-sampling <code>nb_samples</code> points. The dataset is made of images of Warcraft terrains, cell cost labels and shortest path labels. It is a <code>Vector</code> of tuples, each <code>Tuple</code> being a dataset point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.dijkstra_maximizer-Tuple{AbstractMatrix}" href="#DecisionFocusedLearningBenchmarks.Warcraft.dijkstra_maximizer-Tuple{AbstractMatrix}"><code>DecisionFocusedLearningBenchmarks.Warcraft.dijkstra_maximizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dijkstra_maximizer(
    θ::AbstractMatrix;
    kwargs...
) -&gt; Matrix{Int64}
</code></pre><p>Computes the longest path in given grid graph weights by computing the shortest path in the graph with opposite weights. Using the Dijkstra algorithm.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Only works on graph with positive weights, i.e. if <code>θ</code> only contains negative values.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.grid_bellman_ford_warcraft" href="#DecisionFocusedLearningBenchmarks.Warcraft.grid_bellman_ford_warcraft"><code>DecisionFocusedLearningBenchmarks.Warcraft.grid_bellman_ford_warcraft</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">grid_bellman_ford_warcraft(g, s, d, length_max)</code></pre><p>Apply the Bellman-Ford algorithm on an <code>GridGraph</code> <code>g</code>, and return a <code>ShortestPathTree</code> with source <code>s</code> and destination <code>d</code>, among the paths having length smaller than <code>length_max</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L61-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DecisionFocusedLearningBenchmarks.Warcraft.read_dataset" href="#DecisionFocusedLearningBenchmarks.Warcraft.read_dataset"><code>DecisionFocusedLearningBenchmarks.Warcraft.read_dataset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_dataset(
    decompressed_path::String
) -&gt; Tuple{Any, Any, Any}
read_dataset(
    decompressed_path::String,
    dtype::String
) -&gt; Tuple{Any, Any, Any}
</code></pre><p>Read the dataset of type <code>dtype</code> at the <code>decompressed_path</code> location. The dataset is made of images of Warcraft terrains, cell cost labels and shortest path labels. They are returned separately, with proper axis permutation and image scaling to be consistent with <code>Flux</code> embeddings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDecisionFocusedLearning/DecisionFocusedLearningBenchmarks.jl/blob/b9fbae5ca3692d91ba2d140d277abcea17baf67e/src/Warcraft/utils.jl#L1">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../vsp/">« Stochastic Vehicle Scheduling</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 9 April 2025 14:43">Wednesday 9 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
